<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Assinar NewsLetter</title>

	<style>
.campo {
	background-color: gray;
	padding: 10px;
}

.campo:focus {
	background-color: yellow;
	padding: 120px;
}
</style>
	<script>
		}
		if (campoEmailCompleto.value =='' || campoEmailCompleto== null ||campoEmailCompleto='@dominio.com') {// verifica se seu valor é vazio
			alert('Informe seu e-mail!');//Mostra Mensagem
			return false; // retorna falso
		}
		return true;//retorna verdadeiro caso não esteja vazio ou nulo
	 }
	 fuction limpar(){
		with(document){			
			getElementById("ipt_email").valeu="";
		}
	 }
	 
	</script>
</h:head>
<h:body>
	<h:form id="frm_newsletter">
		<h:outputLabel id="opl_email" for="ipt_email" value="Assine nossa newsletter" />	<br/>
		<h:inputText id="ipt_email" value="#{nwslet.email}" size="40" maxlength="30" title="Insira o e-mail" onfocus="this.value='@dominio.com'" 
		style="font-size:19px" styleClass="campo" />
        <br/>
		<h:commandButton id="cmd_inserir" value="Assinar" onclick="return validar()" action="#{nwslet.inserir}" actionListener="#{nwslet.logar}" />
		<!-- o retorno determina se a ação do botão será executada.Assim como o eventListener -->
		<h:commandButton id="cmb_limpar" value="Limpar" action="#{nwslet.limpar}" actionListener="#{nwslet.logar}" />

		<h:outputLabel id="opl_result" value="Inserido com Sucesso!" style="font-color:red" rendered="#{nwslet.sucesso eq 'Sim'}" />
	</h:form>
	<h:form id="frm_lista_newsletter">
		
		<h:dataTable id="dtt_lista_newletters" var="nlt" title="Lista E-mails" 	value="#{nwslet.listMail}" rendered="#{not empty nwslet.listMail}" border="2">
			<h:column>
				<f:facet name="header">
					<h:outputText value="E-mail" />
				</f:facet>
				<h:outputText value="#{nlt}" />
			</h:column>
		</h:dataTable>		
	</h:form>
	<h:form id="frm_lista_logs">	
		<h:dataTable id="dtt_logs" var="logs" title="Lista Logs" value="#{nwslet.listLogs}" rendered="#{not empty nwslet.listLogs}"	border="2">
			<h:column>
				<f:facet name="header">
					<h:outputText value="Data Evento" />
				</f:facet>
				<h:outputText value="#{logs.dataEvento}" />
			</h:column>
			<h:column>
				<f:facet name="header">
					<h:outputText value="Componente Utilizado" />
				</f:facet>
				<h:outputText value="#{logs.componente}" />
			</h:column>
			<h:column>
				<f:facet name="header">
					<h:outputText value="Metodo" />
				</f:facet>
				<h:outputText value="#{logs.metodo}" />
			</h:column>

		</h:dataTable>
	</h:form>
</h:body>
</html>